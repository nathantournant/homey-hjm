{
  "_comment": "This file is generated by Homey Compose. Do not edit manually.",
  "id": "com.hjm.radiator",
  "version": "1.0.0",
  "compatibility": ">=12.0.0",
  "sdk": 3,
  "platforms": ["local"],
  "name": {
    "en": "HJM Radiator",
    "es": "Radiador HJM"
  },
  "description": {
    "en": "Control your HJM WiFi radiators",
    "es": "Controla tus radiadores HJM WiFi"
  },
  "category": ["climate"],
  "permissions": [],
  "images": {
    "small": "/assets/images/small.png",
    "large": "/assets/images/large.png",
    "xlarge": "/assets/images/xlarge.png"
  },
  "author": {
    "name": "Nathan Tournant"
  },
  "brandColor": "#E30613",
  "tags": {
    "en": ["hjm", "radiator", "heater", "helki", "thermostat"],
    "es": ["hjm", "radiador", "calefactor", "helki", "termostato"]
  },
  "drivers": [
    {
      "name": {
        "en": "HJM Radiator",
        "es": "Radiador HJM"
      },
      "class": "thermostat",
      "platforms": ["local"],
      "connectivity": ["cloud"],
      "capabilities": [
        "measure_temperature",
        "target_temperature",
        "hjm_mode"
      ],
      "capabilitiesOptions": {
        "target_temperature": {
          "min": 5,
          "max": 35,
          "step": 0.5
        }
      },
      "pair": [
        {
          "id": "login",
          "template": "login_credentials",
          "options": {
            "title": { "en": "Log in to HJM", "es": "Iniciar sesión en HJM" },
            "usernameLabel": { "en": "Email", "es": "Correo electrónico" },
            "usernamePlaceholder": { "en": "your@email.com" },
            "passwordLabel": { "en": "Password", "es": "Contraseña" },
            "passwordPlaceholder": { "en": "Your HJM app password" }
          }
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": { "next": "add_devices" },
          "options": {
            "title": { "en": "Select Radiators", "es": "Seleccionar Radiadores" }
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "images": {
        "small": "{{driverAssetsPath}}/images/small.png",
        "large": "{{driverAssetsPath}}/images/large.png"
      },
      "id": "radiator"
    }
  ],
  "capabilities": {
    "hjm_mode": {
      "type": "enum",
      "title": {
        "en": "Mode",
        "es": "Modo"
      },
      "uiComponent": "picker",
      "getable": true,
      "setable": true,
      "values": [
        {
          "id": "off",
          "title": { "en": "Off", "es": "Apagado" }
        },
        {
          "id": "manual",
          "title": { "en": "Manual", "es": "Manual" }
        },
        {
          "id": "auto",
          "title": { "en": "Auto", "es": "Automático" }
        },
        {
          "id": "self_learn",
          "title": { "en": "Self Learning", "es": "Autoaprendizaje" }
        },
        {
          "id": "presence",
          "title": { "en": "Presence", "es": "Presencia" }
        }
      ]
    }
  },
  "flow": {
    "triggers": [
      {
        "id": "temperature_changed",
        "title": {
          "en": "The temperature changed",
          "es": "La temperatura cambió"
        },
        "titleFormatted": {
          "en": "The temperature changed",
          "es": "La temperatura cambió"
        },
        "hint": {
          "en": "Triggers when the measured temperature changes.",
          "es": "Se activa cuando cambia la temperatura medida."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=radiator"
          }
        ],
        "tokens": [
          {
            "name": "temperature",
            "type": "number",
            "title": { "en": "Temperature", "es": "Temperatura" },
            "example": 21.5
          }
        ]
      },
      {
        "id": "mode_changed",
        "title": {
          "en": "The mode changed",
          "es": "El modo cambió"
        },
        "titleFormatted": {
          "en": "The mode changed",
          "es": "El modo cambió"
        },
        "hint": {
          "en": "Triggers when the radiator mode changes.",
          "es": "Se activa cuando cambia el modo del radiador."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=radiator"
          }
        ],
        "tokens": [
          {
            "name": "mode",
            "type": "string",
            "title": { "en": "Mode", "es": "Modo" },
            "example": "auto"
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "temperature_is",
        "title": {
          "en": "The temperature is !{{above|below}} [[temperature]]°C",
          "es": "La temperatura es !{{superior|inferior}} a [[temperature]]°C"
        },
        "titleFormatted": {
          "en": "The temperature is !{{above|below}} [[temperature]]°C",
          "es": "La temperatura es !{{superior|inferior}} a [[temperature]]°C"
        },
        "hint": {
          "en": "Check if the current temperature is above or below a value.",
          "es": "Comprueba si la temperatura actual está por encima o por debajo de un valor."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=radiator"
          },
          {
            "type": "range",
            "name": "temperature",
            "title": { "en": "Temperature", "es": "Temperatura" },
            "min": 5,
            "max": 35,
            "step": 0.5,
            "label": "°C",
            "labelDecimals": 1
          }
        ]
      },
      {
        "id": "mode_is",
        "title": {
          "en": "The mode !{{is|is not}} [[mode]]",
          "es": "El modo !{{es|no es}} [[mode]]"
        },
        "titleFormatted": {
          "en": "The mode !{{is|is not}} [[mode]]",
          "es": "El modo !{{es|no es}} [[mode]]"
        },
        "hint": {
          "en": "Check if the radiator is in a specific mode.",
          "es": "Comprueba si el radiador está en un modo específico."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=radiator"
          },
          {
            "type": "dropdown",
            "name": "mode",
            "title": { "en": "Mode", "es": "Modo" },
            "values": [
              { "id": "off", "label": { "en": "Off", "es": "Apagado" } },
              { "id": "manual", "label": { "en": "Manual", "es": "Manual" } },
              { "id": "auto", "label": { "en": "Auto", "es": "Automático" } },
              { "id": "self_learn", "label": { "en": "Self Learning", "es": "Autoaprendizaje" } },
              { "id": "presence", "label": { "en": "Presence", "es": "Presencia" } }
            ]
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "set_temperature",
        "title": {
          "en": "Set the temperature",
          "es": "Establecer la temperatura"
        },
        "titleFormatted": {
          "en": "Set the temperature to [[temperature]]°C",
          "es": "Establecer la temperatura a [[temperature]]°C"
        },
        "hint": {
          "en": "Set the target temperature of the radiator.",
          "es": "Establece la temperatura objetivo del radiador."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=radiator"
          },
          {
            "type": "range",
            "name": "temperature",
            "title": { "en": "Temperature", "es": "Temperatura" },
            "min": 5,
            "max": 35,
            "step": 0.5,
            "label": "°C",
            "labelDecimals": 1
          }
        ]
      },
      {
        "id": "set_mode",
        "title": {
          "en": "Set the mode",
          "es": "Establecer el modo"
        },
        "titleFormatted": {
          "en": "Set the mode to [[mode]]",
          "es": "Establecer el modo a [[mode]]"
        },
        "hint": {
          "en": "Set the operating mode of the radiator.",
          "es": "Establece el modo de funcionamiento del radiador."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=radiator"
          },
          {
            "type": "dropdown",
            "name": "mode",
            "title": { "en": "Mode", "es": "Modo" },
            "values": [
              { "id": "off", "label": { "en": "Off", "es": "Apagado" } },
              { "id": "manual", "label": { "en": "Manual", "es": "Manual" } },
              { "id": "auto", "label": { "en": "Auto", "es": "Automático" } },
              { "id": "self_learn", "label": { "en": "Self Learning", "es": "Autoaprendizaje" } },
              { "id": "presence", "label": { "en": "Presence", "es": "Presencia" } }
            ]
          }
        ]
      }
    ]
  }
}
